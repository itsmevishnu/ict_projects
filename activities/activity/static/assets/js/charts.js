function chart(e,t,s,o){return new d3pie(e,{header:{title:{text:t,fontSize:24,font:"open sans"},subtitle:{text:s,color:"#999999",fontSize:12,font:"open sans"},titleSubtitlePadding:9},footer:{color:"#999999",fontSize:10,font:"open sans",location:"bottom-left"},size:{canvasWidth:550,pieInnerRadius:"30%",pieOuterRadius:"90%"},data:{sortOrder:"value-desc",content:o},labels:{outer:{pieDistance:32},inner:{hideWhenLessThanPercentage:3},mainLabel:{fontSize:11},percentage:{color:"#ffffff",decimalPlaces:0},value:{color:"#adadad",fontSize:11},lines:{enabled:!0},truncation:{enabled:!0}},effects:{pullOutSegmentOnClick:{effect:"linear",speed:400,size:8}},misc:{gradient:{enabled:!0,percentage:100}}})}function _x(e){for(var t,s=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),o=[];t=s.iterateNext();)o.push(t);return o}function getContent(e){for(var t=[],s=0;14>s;s++){var o={label:"Hostel "+(s+1).toString(),value:e.scores[s],color:colors[s]};t.push(o)}return t}function sum(e){for(var t=0,s=0;s<e.length;s++)t+=e[s];return t}function init(){a=Tabletop({key:public_spreadsheet_url_1,callback:showInfo,simpleSheet:!0})}function showInfo(e,t){console.log(e[0]),keys=Object.keys(e[0]);for(var s=1;s<keys.length;s++)GC[keys[s]]={},GC[keys[s]].scores=[];for(var s=1;s<e.length;s++)for(var o=1;o<keys.length;o++)GC[keys[o]].scores.push(parseFloat(e[0][keys[o]])*parseFloat(e[s][keys[o]]));validGCs=[];for(var a in GC)"Overall Score"!=a&&(console.log(GC[a].scores),console.log(sum(GC[a].scores)),sum(GC[a].scores)>1&&validGCs.push(a));console.log(validGCs),series=[],GC.Jhatka.club="Electronics Club",GC["Biotech GC"].club="Biotech Club",GC["Biotech GC"].clubnick="Bio",GC["Chain Reaction"].club="Robotics Club",GC["Logic GC"].clubnick="mnp",GC["PhysX GC"].clubnick="mnp",GC["Astro GC"].clubnick="Krttika",GC.Jhatka.clubnick="elec",GC["Logic GC"].club="Maths and Physics Club",GC["PhysX GC"].club="Maths and Physics Club",GC["Astro GC"].club="Krittika",GC.Jhatka.club="Electronics Club",clubsDone=[];for(var a in validGCs){GC[validGCs[a]].content=getContent(GC[validGCs[a]]),GC[validGCs[a]].pie=chart(validGCs[a],validGCs[a],"Performance of Hostels",GC[validGCs[a]].content);var l={name:validGCs[a],data:GC[validGCs[a]].scores};series.push(l)}$("#allgraphs").trigger("click"),$("#bar-graph").highcharts({chart:{type:"bar"},title:{text:"Performance of Hostels in Tech GC"},xAxis:{categories:hostels},yAxis:{min:0,title:{text:"Hostel GC Tally"}},legend:{reversed:!0},plotOptions:{series:{stacking:"normal"}},series:series}),$(".highcharts-button").remove()}var colors=["#2484c1","#0c6197","#4daa4b","#90c469","#daca61","#e4a14b","#e98125","#cb2121","#830909","#ae83d5","#bf273e","#ce2aeb","#bca44a","#618d1b"],a;window.onload=function(){init()};var public_spreadsheet_url_1="https://docs.google.com/spreadsheets/d/1LCWFDiY1U0Ghy6NzSxDCd43oc_hErWks_xeNcyXj78c/pubhtml?gid=0&single=true",hostels=["H1","H2","H3","H4","H5","H6","H7","H8","H9","H10","H11","H12","H13","H14","H15","H16"],count=0,GC={};GC.physXGC={},GC.logicGC={},GC.physXGC.scores=[],GC.logicGC.scores=[];
